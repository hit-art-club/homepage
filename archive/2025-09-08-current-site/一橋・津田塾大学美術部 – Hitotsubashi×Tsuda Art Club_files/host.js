/**
 * https://github.com/adqio/safeframe/blob/master/src/js/host/host.js
 * Copyright (c) 2012, Interactive Advertising Bureau
 * All rights reserved.
 * Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 **/
"use strict";
!function(e){var t,o=null,n="sf_pos",i="sf_pos_rel_el",r="onBeforePosMsg",s="onPosMsg",c={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0},a="exp-ovr",f="collapse",l="error",$="geom-update",u="focus-change",p="object",h="string",g="style",v="length",m="width",_="height",b="clip",x="scroll",y=x+"Width",w=x+"Height",k=x+"Top",P=x+"Left",R="offset",S=R+"Parent",X=R+"Top",D=R+"Left",z=R+"Width",I=R+"Height",F="clientWidth",T="clientHeight",E="onscroll",H="compatMode",L="documentElement",M="document",C="nodeType",O="contains",W="compareDocumentPosition",N="elementFromPoint",B="parentNode",j="auto",U="hidden",Y="overflow",G="toFixed",V="attach",A="detach",q="message",J="guid",K="application/x-shockwave-flash",Q=e&&e.$sf,Z=Q&&Q.ver,ee=Q&&Q.env,et=ee&&ee.ua,eo=Q&&Q.lib,en=eo&&eo.lang,ei=eo&&eo.dom,er=ei&&ei.iframes,es=en&&en.cbool,ec=en&&en.cnum,ea=en&&en.cstr,ef=en&&en.callable,el=en&&en.noop,e$=en&&en[J],ed=en&&en.mix,eu=ei&&ei.elt,ep=ei&&ei.par,eh=(ei&&ei.tags,ei&&ei.attr),eg=ei&&ei.doc,ev=ei&&ei.tagName,em=ei&&ei.view,e_=er&&er.view,eb=(ei&&ei.purge,ei&&ei.ready,e&&e.escape),ex=e&&e.Math,ey=ex&&ex.max,ew=ex&&ex.min,ek=ex&&ex.round,eP=en&&en.ParamHash,e8=e&&e[M],eR=ee&&ee.isIE,eS=et&&et.ie||0,eX=et&&et.webkit||0,eD=et&&et.gecko||0,ez=et&&et.opera||0,eI=e&&e.location,eF=eI&&(eI.protocol+"//"+(eI.host||eI.hostname)||""),eT={},eE={},eH={},eL={},eM={},eC=!1,eO=!1,eW=!1,e9=0,eN=0,eB=o,e0=o,e3=o,e1=o,ej="ShockwaveFlash.ShockwaveFlash",e5=[ej+".11",ej+".8",ej+".7",ej+".6",ej];function e7(e){var t,i,r,s,c,a,f=this;if(!arguments.length)return e1?ed({},e1):o;if(!(f instanceof e7))return new e7(e);if(!e)return e1=o,o;if(a=!!e1,f.auto=!("auto"in e)||es(e.auto),f.cdn=ea(e.cdn),f.debug=es(e.debug),f.root=ea(e.root),f.renderFile=ea(e.renderFile),f.msgFile=ea(e.msgFile),f.to=ec(e.to,6e4),f.ver=ea(e.ver)||Z,f.onBeforePosMsg=ef(e.onBeforePosMsg)?e.onBeforePosMsg:el,f.onPosMsg=ef(e.onPosMsg)?e.onPosMsg:el,f.onStartPosRender=ef(e.onStartPosRender)?e.onStartPosRender:el,f.onEndPosRender=ef(e.onEndPosRender)?e.onEndPosRender:el,f.onFailure=ef(e.onFailure)?e.onFailure3:el,i=e.positions,f.positions=t={},i)for(r in i)(s=i[r])&&typeof s==p&&(t[c=r||s.id||e$(n)]=new eU(s));e1=f,a=!!(a&&f.auto&&en&&en.ns("$sf.host.boot"));try{a&&Q.host.boot()}catch(l){}return ed({},e1)}function eU(e,t,o){var i,r,s=this,a=e&&typeof e||"";return s instanceof eU?(a==p?(s.id=ea(e.id),s.dest=ea(e.dest||t),s.bg=ea(e.bg)||"transparent",s.tgt=ea(e.tgt)||"_top",s.css=ea(e.css),s.w=ec(e.w,0),s.h=ec(e.h,0),s.z=ec(e.z,0),s.supports=ed({},e.supports||c,!0,!0,!0),s.w&&s.h?s.size=s.w+"x"+s.h:(i=ea(e.size))?(r=i.split(/x/gi),s.w=ec(r[0],0),s.h=ec(r[1],0),s.size=i):s.size=""):"string"==a?(s.id=ea(e),s.dest=ea(e.dest)):(s.dest="",s.bg="transparent",s.tgt="_top",s.css="",s.w=0,s.h=0,s.size="",s.z=0,s.supports={}),s.id=s.id||e$(n),!e1&&o&&e7(o),e1&&(e1.positions[s.id]=s),ed({},s)):new eU(e,t,o)}function eY(e,t,o){var n,i,r=this;if(!(r instanceof eY))return new eY(key,o,pos,e);n={sf_ver:ea(Q.ver),flash_ver:eG(),ck_on:eV()?"1":"0"},i={},e&&typeof e==p&&(n=ed(n,e)),t&&typeof t==h&&o&&typeof o==p&&(i[t]=o),r.toString=function e(){var t=new eP;return t.shared=n,t.non_shared=i,t.toString()},r.value=function e(t,o){var r="";return t&&typeof t==h?(o&&typeof o==h||(o="shared"),r="shared"==o?n[t]||"":t in i&&i[prop_key]||""):r}}function e4(t,o){var n,i;try{eo||(eo=Q&&Q.lib),eo&&eo.logger&&e==top?o?(eo.logger.error(t),Q.info.errs.push(t)):eo.logger.log(t):(n=d.getElementsByTagName("head")[0],(i=d.createElement("script")).type="text/plain",i.text="<!-- SafeFrame "+(o?"error":"log")+": "+(t||"unknown")+" -->",n.appendChild(n,i))}catch(r){}}function eG(){if(e3!==o&&void 0!=e3)return e3;if(navigator.plugins&&navigator.plugins.length>0){var e,t,n,i,r,s=navigator.mimeTypes;s&&s[K]&&s[K].enabledPlugin&&s[K].enabledPlugin.description&&((e=s[K].enabledPlugin).version?e3=e.version:e.description&&(e3=e.description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]))}else if(Q.env.isIE)for(t=0;t<e5.length;t++)try{e3=(r=(i=(n=new ActiveXObject(e5[t])).GetVariable("$version")).indexOf(" "))>-1?i.substr(r+1).replace(/,/gi,"."):i.replace(/,/gi,".");break}catch(c){n=o,e3=0;continue}else e3=0;return e3}function eV(){var e=!!navigator.cookieEnabled;return void 0===navigator.cookieEnabled&&!e&&(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie"),navigator&&(navigator.cookieEnabled=e)),e}function e2(e){var t=e&&eg(e)||e8,o=t[H],n=t[L];return o&&!ez&&"CSS1Compat"!=o&&(n=t.body),n}function e6(e){var t,n=o;try{e&&(t=eJ(e),n=9==t?e:e[M]||e.ownerDocument||o)}catch(i){n=o}return n}function eA(e){return e&&(e[B]||e.parentElement)}function eq(e){return 1===eJ(e)}function eJ(e){return ec(e&&e.nodeType,-1)}function eK(e){return 1===eJ(e)&&e.tagName.toLowerCase()||""}function eQ(e){if((e=ea(e))&&-1==e.search(/\D+/g)||e&&-1!=e.search(/px/gi))return!0}function eZ(e){var t,o,n,i,r=[-1,-1,-1,-1],s=[b+"Top",b+"Right",b+"Bottom",b+"Left"],c=0;if(!e)return r;if(eS)for(;o=s[c];)eQ(t=e[o])&&(t=ec(t,-1))>=0&&(r[c]=t),c++;else if((t=e[b])&&-1!=t.search(/\d+/g))for(i=(r=(r=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[v]<=1?r.split(","):r)[v],c=0;i--;)eQ(n=r[c])?r[c]=ec(n,-1):r[c]=-1,c++;return r}function te(e,t,o){var n=0,i=0,o=o||tr(e);return o&&(n=st.borderTopWidth,i=st.borderLeftWidth,n=eQ(n)?ec(n,0):0,i=eQ(i)?ec(i,0):0,eD&&/^t(?:able|d|h|r|head|foot)$/i.test(ev(e))&&(n=i=0)),t=t||{t:0,l:0},t.t+=n,t.l+=i,t}function tt(e){var t,o,n,i,r={x:0,y:0,w:0,h:0},s={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},c=0,a=0;return o=(t=eg(e)||e8)[L]||s,i=t.body||s,(n=t.defaultView)&&(c=ec(n.pageXOffset,0),a=ec(n.pageYOffset,0)),r.x=ey(o.scrollLeft,i.scrollLeft,c),r.y=ey(o.scrollTop,i.scrollTop,a),r.w=ey(o.scrollWidth,i.scrollWidth,0),r.h=ey(o.scrollHeight,i.scrollHeight,0),r}function to(t){var n,i,r,s,c,a,f,l,$,u,p,h={t:0,l:0,r:0,b:0,w:0,h:0,z:0},g="getBoundingClientRect",v=0,m=0,_=0,b=0,x=!1,y=e6(t)||e[M],w=y[H],R=y.documentMode||0;if(eq(t))try{if(c=tr(t),n=e2(t),i=tt(t),h.l=t[D]||0,h.t=t[X]||0,r=t,s=o,x=eD||eX>519,(u=t===n)||!g||!t[g]){for(;(r=r[S])&&eq(r)&&s!==r;)f=r[D],l=r[X],h.t+=l,h.l+=f,x&&(h=te(r,h)),s=r;if("fixed"!=c.position){for(r=t,s=o;(r=r[B])&&eq(r)&&s!==r&&r!=n;)v=r[k],m=r[P],eD&&(a=tr(r),"visible"!=a[Y]&&(h=te(r,h,a))),(v||m)&&(h.l-=m,h.t-=v),s=r;h.l+=i.x,h.t+=i.y}else h.l+=i.x,h.t+=i.y}else eR&&(!R||R>0&&R<8||"BackCompat"===w)&&(f=n.clientLeft,l=n.clientTop),$=t[g](),h.t=$.top,h.l=$.left,(f||l)&&(h.l-=f,h.t-=l),(i.y||i.x)&&(!et.ios||et.ios>=4.2)&&(h.l+=i.x,h.t+=i.y);t==n?(b=t[T],_=t[F]):(b=t[I],_=t[z]),h.b=h.t+b,h.r=h.l+_,h.w=ey(_,0),h.h=ey(b,0),h.z=c.zIndex}catch(E){E&&E[q]||(E={message:"null exception"}),p="sf Exception in rect calculation tag - "+eK(t)+" : "+E[q],e4(p,!0),h={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return h}function tn(e){var t=e2(e),o=0,n=0;return t&&(o=t.scrollWidth||0,n=t.scrollHeight||0),{t:0,l:0,b:n,r:o,w:o,h:n}}function ti(e,t){var o=!1,n=e&&e[C]||-1,i=t&&t[C]||-1;if(1==n&&-1!=i){if(e[O]){if(ez||1==i)o=e[O](t);else for(;t;){if(e===t){o=!0;break}if((t=t.parentNode)==e8[L])break}}else e[W]&&(o=e===t||!!(16&e[W](t)))}return o}function tr(e,t){var n="",i=!!(arguments[v]&&t),r="getComputedStyle";if(i){if(eS)try{n=e.currentStyle[t]}catch(s){n=""}else try{n=em(e)[r](e,o)[t]}catch(c){n=""}}else if(eS)try{n=e.currentStyle}catch(a){n=o}else try{n=em(e)[r](e,o)}catch(f){n=o}return n}function ts(e,t,o){var n,i,r,s,c,a,f,l,$,u,p,h,g,v,m,_,b=to(e),x=e6(e),y=e2(x),w=b.t,k=b.l,P=[],R=0;if(P.on=0,t=ec(t,0,0),o=ec(o,0,0),w&&!b.h&&o&&(b.h=o,b.b=w+o),k&&!b.w&&t&&(b.w=t,elrect.r=k+t),n=b.w,i=b.h,r=ek(n/10),s=ek(i/10),c=r,a=s,n<=1||i<=1||r<1||s<1)return P;if(m=(_=tt()).y,v=_.x,h=k+n,g=w+i,x&&y&&x[N]){for(;c<n;){for(a=s;a<i;)f=k+c,l=w+a,f<=h&&l<=g&&P.push({x:f,y:l,on:0}),a+=s;c+=r}for(;$=P[R++];){if(f=ey($.x-v,0),f=ew(f,$.x),l=ey($.y-m,0),l=ew(l,$.y),0==f){$.on="!x-offscreen",P.on++;continue}if(0==l){$.on="!y-offscreen",P.on++;continue}(p=x[N](f,l))&&p!==y&&p!==e&&!ti(p,e)&&((u=eh(p,"id"))||(u=e$("geom_inter"),eh(p,"id",u)),$.on=u,P.on++)}}return P}function tc(e,t,o,n){return e0||(e0=ei.msghost_fb),e&&e0&&e0[e]&&e0[e](t,o,n)}function ta(e){var t=e&&e.data,o=e&&e.source,n="string"==typeof t&&-1!=t.indexOf(J)&&eP(t),i=n&&n.id,r=i&&eu(i),s=r&&e_(r),c=i&&eE[i],a=n&&n[J],f=c&&c[J],l=c&&c._xmsgcb,$=!1;if(f&&a&&a==f&&o&&s&&s==o)try{$=l(n?.msg)}catch(u){$=!1}return $&&ei.evtCncl(e),$}function tf(e,t){var n,i,r,s=e&&eE[e],c=!1;if(s){if(s){if((n=eP()).msg=t,n.guid=s.guid,eC){r=eu(e),i=e_(r);try{i.postMessage(ea(n),s.srcHost||"*"),c=!0}catch(a){c=!1}}else c=tc("send",e,t)}}else c=tc("send",e,t);return n=i=r=o,c}function tl(){return eC}function t$(e){var t,n,i=[],r=arguments,s=r[v],c=0,a=!1;if(e1&&(t=e1[e])){for(;s--;)(n=r[c++])!=e&&i.push(n);try{a=t.apply(o,i)}catch(f){a=!1}}return a}function td(e){var t=e&&eH[e];t&&(clearTimeout(t),tI(e),t$(s,"render-timeout",e)),t8()||(eB="")}function tu(){e9&&(clearTimeout(e9),e9=0)}function tp(){eN&&(clearTimeout(eN),eN=0)}function th(e){tp(),eN=setTimeout(function(){(function e(t){var o,n,i,r,c,a;for(o in eT)(c=(r=(n=eT[o])&&n.dest)&&eu(r))&&n&&(i=eP(),a=eP(),i.pos=o,i.cmd=a.cmd=u,i.value=t,t$(s,o,u,t),tR(n,i));tp()})(e)},2)}function tg(e){tu(),e9=e?setTimeout(t_,750):setTimeout(tm,750)}function tv(e){var t,o,n,i,r,c;for(t in eT)!((!e||!(t in eM))&&(r=(i=(o=eT[t])&&o.dest)&&eu(i))&&o)||(c=tD(t,r,!0),(n=eP()).pos=t,n.cmd=$,n.geom=eb(c),t$(s,t,$,c),tR(o,n));tu()}function tm(){tv()}function t_(){tv(!0)}function tb(e){th(!0)}function tx(t){th(e[M].hasFocus())}function ty(e){tg(1)}function tw(e){tg()}function tk(t){var n,i;tu();try{for(n in ei.detach(e,x,ty),ei.detach(e,"resize",tw),ei.detach(e,"unload",tk),ei.detach(e,"focus",tb),ei.detach(e,"blur",tx),eM)(i=eM[n])&&(i.tID&&clearTimeout(i.tID),ei.detach(eM[n],x,i[E]),i[E]=i.node=o),eM[n]=o,delete eM[n];eW=!1}catch(r){}}function tP(e){var t,n,c,a,u,p,h,v,b,x,y,w,k,P,R,S,X,D,z,I,F,T,E,H,L,M,C,O=!1;if((M=eP(e,o,o,!0,!0))&&M.pos&&(C=eT[M.pos]))switch(M.cmd){case"exp-push":tz(M,!0),O=!0;break;case"exp-ovr":tz(M),O=!0;break;case"collapse":(function e(t,n,c){var a,l=t&&t.pos,$=l&&eT[l],u=$&&$.conf,p=u&&u.dest,h=p&&eu(p),v=h&&eu(i+"_"+l),b=h&&h[g],x=v&&v[g];if(l&&$&&h&&v&&$.expanded){if((a=eM[l])&&a.tID&&clearTimeout(a.tID),tu(),!c&&t$(r,l,f,0,0))return;b.left=b.top="0px",x[m]=b[m]=u.w+"PX",x[_]=b[_]=u.h+"PX",b.zIndex=$.dx=$.dy=0,tX(p),c||(t$(s,l,f,0,0),t.cmd="collapse",t.geom=eb(tD(l,h,!0)),tR($,t)),h=b=v=x=$=t=o}})(M),O=!0;break;case"msg":v=(h=(p=(u=(a=(c=(t=M)&&t.pos)&&eT[c])&&a.conf)&&u.dest)&&eu(p))&&eu(i+"_"+c),h&&h[g],v&&v[g],t$(s,t.pos,"msg",t.msg),t.cmd="msg",t.geom=eb(tD(c,h,!0)),tR(a,t),O=!0;break;case l:R=(P=(k=(w=(y=(x=(b=M)&&b.pos)&&eT[x])&&y.conf)&&w.dest)&&eu(k))&&eu(i+"_"+x),P&&P[g],R&&R[g],Q&&Q.info&&Q.info.errs&&Q.info.errs.push(b),t$(s,x,l,b),O=!0;break;case $:Q.lib.logger.log("Geom update complete: "+M.pos),O=!0;break;case"read-cookie":C.conf&&C.conf.supports&&C.conf.supports[M.cmd]&&"0"!=C.conf.supports[M.cmd]?(H=(E=(T=(F=(I=(S=M)&&S.pos)&&eT[I])&&F.conf)&&T.dest)&&eu(E),L="read-cookie",T.supports&&T.supports[L]&&"0"!=T.supports[L]&&I&&F&&H&&(D=S.cookie)&&(z=function e(){var t,o,n,i={};for(o=(t=document.cookie.split("; ")).length-1;o>=0;o--)i[(n=t[o].split("="))[0]]=n[1];return i}(),t$(s,L,I,0,0),S.cmd=L,S.geom=eb(tD(I,H,!0)),S.value=z[D],tR(F,S),H=F=S=o),O=!0):O=!1;break;case"write-cookie":C.conf&&C.conf.supports&&C.conf.supports[M.cmd]&&"0"!=C.conf.supports[M.cmd]?(function e(t,n){var i,r,c=t&&t.pos,a=c&&eT[c],f=a&&a.conf,l=f&&f.dest,$=l&&eu(l),u="write-cookie";if(f.supports&&f.supports[u]&&"0"!=f.supports[u]&&c&&a&&$&&(i=t.cookie)){r=escape(t.value);var p=new Date;p.setDate(p.getDate()+1);var h=r+"; expires="+p.toUTCString();document.cookie=i+"="+h,t$(s,u,c,0,0),t.cmd=u,t.geom=eb(tD(c,$,!0)),t.info=r,t.value="",tR(a,t),$=a=t=o}}(M),O=!0):O=!1}return O}function t8(){var e,t=!0;for(e in eH){t=!1;break}return t}function tR(e,t){eB="sending-msg-down-"+t.cmd,setTimeout(function(){var n=e&&e.dest;n&&t&&tf(n,t.toString()),eB="",t=n=e=o},1)}function tS(){var e=this,t=eh(e,"_pos_id");eH[t]&&(clearTimeout(eH[t]),delete eH[t],eL[t]=t,eh(e,"_pos_id",o),eh(e,"name",o),e[g].visibility="inherit",e[g].display="block",t$("onEndPosRender",t)),t8()||(eB="")}function tX(e,t,o,n,i){if(eR){var r=eu(e),s="shm_"+e,c=eu(s);if(t){if(c){c[g].visibility="visible";return}c=er.clone(r,{id:s,src:"",name:s},[m,":",o,"PX",";position:absolute;",_,":",n,"PX",";z-index:",i-1,";filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"]),ei.append(ep(r),c)}else!t&&c&&(c[g].visibility="hidden")}}function tD(e,t,n){var i,r,c,a,f,l,u=eP(),p={};try{i=ei.bounds(t,p,!0),!n&&!p.isRoot&&p.canScroll&&((f=p.expRect).xs||f.ys)&&(r=eM[e],a=p.refNode,r&&r.node!=a&&(r.tID&&clearTimeout(r.tID),ei.detach(c,x,r[E]),r.node=r[E]=o,eM[e]=o,delete eM[e]),eM[e]||((r={}).node=a,r[E]=function(t){var o,n,i;(i=eM[n=e])&&(i.tID&&(clearTimeout(i.tID),delete i.tID),i.tID=setTimeout(function(){var e,t,o=eT[n],r=o&&o.dest,c=r&&eu(r);c&&o&&(e=tD(n,c,!0),(t=eP()).pos=n,t.cmd=$,t.geom=eb(e),t$(s,n,$,e),tR(o,t)),delete i.tID},750))},eM[e]=r,ei.attach(a,x,r[E])))}catch(h){u=o,e4("Exception in build_geom: "+(h&&h[q]||"NULL"),!0)}try{u&&(u.win=eP(ei.winRect()),u.par=eP(p.clipRect),f=eP(p.expRect),(l=eP(p.rect)).iv=f.iv,l.xiv=f.xiv,l.yiv=f.yiv,delete f.iv,delete f.xiv,delete f.yiv,u.exp=f,u.self=l)}catch(g){u=o,e4("build_geom info error: "+(g&&g[q]||"NULL"),!0)}return u}function tz(e,t){var n,c,f,l,$,u,p,h,v,b,x,y,w,k,P,R,S,X,D,z,I=!1,F=!1,T=e&&e.pos;if(T&&(c=(n=eT[T])&&n.conf,n&&c)&&(f=eu(w=n.dest),l=eu(i+"_"+T),f&&l)&&($=f[g],u=l[g],$))(z=eM[T])&&z.tID&&clearTimeout(z.tID),tu(),X=e.exp_obj,p=c.w,h=c.h,X?(k=ec(X.t,0,0),P=ec(X.l,0,0),R=ec(X.r,0,0),S=ec(X.b,0,0),x=ec(p+P+R,0,0),y=ec(h+k+S,0,0),k?(b=-1*k,F=!0):b=0,P?(v=-1*P,I=!0):v=0):(v=n.dx=ec(e.dx),b=n.dy=ec(e.dy),I=v<0,F=b<0,x=I?p+-1*v:p+v,y=F?h+-1*b:h+b),(!(x<=p)||!(y<=h))&&(t$(r,T,a,v,b)||($[m]=x+"PX",$[_]=y+"PX",I&&($.left=v+"PX"),F&&($.top=b+"PX"),(D=ec(n.z,0))||(D=3e3),$.zIndex=D,tX(w,!0,x,y,D-1),t?(u[m]=x+"PX",u[_]=y+"PX"):(u[m]=p+"PX",u[_]=h+"PX"),n.expanded=!0,e.dx=v,e.dy=b,e.w=x,e.h=y,e.cmd="expand",e.geom=eb(tD(T,f,!0)),t$(s,T,a,v,b),tR(n,e),$=l=f=n=e=o))}function tI(){var e,t,n,r,s,c,a,f,l=0,$=!0,u=arguments;if(!u[v]||"*"==u[l])for(e in u=[],eT)u.push(e);for(;e=u[l++];)if(t=eT[e]){for((e in eH)&&(clearTimeout(eH[e]),delete eH[e]),(e in eL)&&delete eL[e],c=(r=(n=t.dest)&&eu(n))&&ep(r),-1!=ei.attr(c,"id").indexOf(i)&&(c=ep(s=c)),ei.purge(r),s&&ei.purge(s),f=$sf.info.list.length-1;f>=0;f--)if((a=$sf.info.list[f])&&a.id===e){$sf.info.list.splice(f,1);break}eT[e]=o,delete eT[e],r=ei.make("div"),ei.attr(r,"id",n),ei.append(c,r)}for(e in e="",eT){$=!1;break}$&&(eB="",tk())}function tF(){var t,n,r,s,c,a,f,l,$,u,p,h,b,y,w,k,P=0,R=arguments;if(!e1)return!1;if(!ei.ready())return ei.wait(function(){tF.apply(o,R),R=o}),o;for(R[0]instanceof Array&&1==R[v]&&(R=R[0]);t=R[P++];)if((r=(n=t.id)?e1.positions[n]:o)&&(s=($=r.dest)&&eu($))){if(h=r.w,b=r.h,!h){try{h=s.offsetWidth}catch(S){h=0}h&&(r.w=h)}if(!b){try{b=s.offsetHeight}catch(X){b=0}b&&(r.h=b)}h&&b&&(l=new eP,a=eu(u=i+"_"+n),f=ep(s),a&&f==a&&(f=ep(a)),tX($),(w=eH[n])&&clearTimeout(w),(w=eL[n])&&delete eL[n],eH[n]=setTimeout(function(){td(n)},e1.to),eB="rendering",t$("onStartPosRender",n,r,t),p=["position:","",";z-index:0;",m,":",h,"PX",";",_,":",b,"PX",";","visibility:inherit;"],a?((y=a[g]).width=h+"PX",y.height=b+"PX",(y=s&&s[g]).width=h+"PX",y.height=b+"PX"):(p[1]="relative",(a=ei.make("div")).id=u,a.className="iab_sf",c=s.cloneNode(!1),ei.css(c,p),a.appendChild(c),ei.css(a,p),f.replaceChild(a,s),s=eu($)),l.id=n,l.dest=$,l.conf=eP(r),l.meta=t.meta.toString(),l.html=eb(t.html),l.geom=eb(tD(n,s)),l.src=e1.renderFile,l.has_focus=en.cstr(document.hasFocus()),p[1]="absolute",p[13]="top:0px;left:0px;visibility:hidden;display:none;max-width:none;max-height:none;",eW||(ei.attach(e,x,ty),ei.attach(e,"resize",tw),ei.attach(e,"unload",tk),ei.attach(e,"focus",tb),ei.attach(e,"blur",tx),eW=!0),er.replace({id:$,name:l,src:e1.renderFile,_pos_id:n},p,a,tS,tP),eT[n]=l,delete(k=$sf.lib.lang.mix({},l,!1,!0)).geom,delete k.has_focus,$sf.info.list.push(k))}}function tT(){return eB}en&&e==top&&(en.def("dom",{rect:to,currentStyle:tr,contains:ti,docRect:tn,winRect:function t(o){var n=o&&em(o)||e,i=n.innerHeight||0,r=n.innerWidth||0,s=n.screenY||n.screenTop||0,c=i+s,a=n.screenX||n.screenLeft||0,f=r+a,l=e2(o);return i||r||!l||(i=l.clientHeight||0,f=a+(r=l.clientWidth||0),c=s+i),{t:s,l:a,b:c,r:f,w:r,h:i}},bounds:function t(n,i,r,s,c){var a,f,l,$,u,p,h,g,m,_,b,k,P,R,S,X,D,E,H,L,M,C,O,W,N,B,V,A,q,J,K,Q,Z,ee,et,eo,en,ei,er=n&&eA(n),es=e2(n),ea=to(n),ef=to(es),el=tt(es),e$=tn(n),ed={t:0,l:0,r:0,b:0,w:0,h:0},eu={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},ep=[],eh=!1,eg={left:o,right:o,top:o,bottom:o};if(i=i&&"object"==typeof i?i:{},s=ec(s,0,0),c=ec(c,0,0),!ea.h&&c&&(ea.h=c,ea.b=ea.t+c),!ea.w&&s&&(ea.w=s,ea.r=ea.l+s),er)for(a=ef.t,f=ef.l,l=ef.r,$=ef.b;(h=tr(er))&&(("block"==h.display||"absolute"==h.position||"none"!=h.float||"none"!=h.clear)&&(eh=er==es,_=(en=to(er)).t,b=en.l,k=en.r,P=en.b,L=h[Y+"X"],M=h[Y+"Y"],C=h[Y],O=eh?[-1,-1,-1,-1]:eZ(h),ei=!1,eh?(R=el.w,D=el.h):(R=er[y],D=er[w]),S=er[z],E=er[I],X=er[F],H=er[T],!p&&S>X&&(p=S-X),!u&&E>H&&(u=E-H),eh?(R>X&&(b=0,k=(e.innerWidth||S)+el.x,b>f&&(f=b),k<l&&(l=k)),D>H&&(_=0,P=(e.innerHeight||E)+el.y,_>a&&(a=_),P<$&&($=P))):(p&&k-b==S&&(k-=p),u&&P-_==E&&(P-=u),(L==U||L==x||L==j||C==U||C==x||C==j)&&(b>f&&(f=b,eg.left=er),k<l&&(l=k,eg.right=er),L==x||C==x?(ep.push(er),ei=!0):(L==j||C==j)&&R>X&&(ep.push(er),ei=!0)),O[3]>0&&(q=b+O[3])>f&&(f=q,eg.left=er),O[1]>0&&(J=k+O[1])<l&&(l=J,eg.right=er),(M==U||M==x||M==j||C==U||C==x||C==j)&&(_>a&&(a=_,eg.top=er),P<$&&($=P,eg.bottom=er),!ei&&(M==x||C==x?(ep.push(er),ei=!0):(M==j||C==j)&&D>H&&(ep.push(er),ei=!0))),O[0]>0&&(B=_+O[0])>a&&(a=B,eg.top=er),O[2]>0&&(V=en.t+O[2])<$&&($=V,eg.bottom=er))),er!=es&&(er=eA(er))&&eK(er)););return(ed={t:ey(a,0),l:ey(f,0),r:ey(l,0),b:ey($,0)}).w=ey(ed.r-ed.l,0),ed.h=ey(ed.b-ed.t,0),b=ea.l,k=ea.r,_=ea.t,P=ea.b,g=k-b,m=P-_,q=ed.l,J=ed.r,B=ed.t,V=ed.b,K=J-q,A=V-B,N=(N=(N=ew(P,V)-ey(_,B))<0?0:N)>m?m:N,W=(W=(W=ew(k,J)-ey(b,q))<0?0:W)>g?g:W,B<_?V<=_?eu.t=0:eu.t=ey(_-B,0):eu.t=0,V>P?P<=B?eu.b=0:eu.b=ey(V-P,0):eu.b=0,q<b?J<=b?eu.l=0:V<=_?eu.l=0:P<=B?eu.l=0:eu.l=ey(b-q,0):eu.l=0,J>k?k<=q?eu.r=0:V<=_?eu.r=0:eu.r=ey(J-k,0):eu.r=0,eu.w=ey(eu.r-eu.l,0),eu.h=ey(eu.b-eu.t,0),eu.xiv=g>0?ec((W/g)[G](2)):0,eu.yiv=m>0?ec((N/m)[G](2)):0,eu.iv=g>0||m>0?ec((W*N/(g*m))[G](2)):0,eu.civ=0,r&&(et=eu.iv)>.49&&(Q=(eo=ts(n,s,c))[v],(Z=ec(eo.on,0))&&(ee=1-ec((Z/Q)[G](2),0),eu.civ=eu.iv=ee)),i.rect=ea,i.clipRect=ed,i.docRect=e$,ep[v]?(i.isRoot=!1,i.canScroll=!0,eu.xs=!!u,eu.ys=!!p):ef.b>=ed.b||ef.r>=ed.r?(i.isRoot=!0,eu.xs=!!(e$.w>ef.w&&u),eu.ys=!!(e$.h>ef.h&&p),i.canScroll=e$.w>ef.w||e$.h>ef.h):eu.ys=eu.xs=i.isRoot=i.canScroll=!1,i.scrollNodes=ep,i.clipNodes=eg,i.expRect=eu,eu},overlaps:ts},eo,!0),en&&(en.def("msghost",{prep:function e(t){var n,i,r,s,c,a,f,l=o,$=((i=(n=(i=eI.href.indexOf("#"))>-1?eI.href.substr(0,i):eI.href).indexOf("?"))>-1&&(n=n.substr(0,i)),escape(n));return t&&(s=eP(r=t.name),a=0!=(a=(c=ea(t.src))&&c.substring(0,c.indexOf("/",9))).search(/http/gi)?"":a,(l=eP(s)).id=t.id||"iframe_"+e$(),l.src=c,l.srcHost=a,l[J]=l[J]||e$(),l.host=eF,l.loc=$,l.proxyID="",eC?(l.html5=1,l.proxyPath=""):(f=tc("prep",l))&&(l=f),t.name=l),l},attach:function t(o,n,i){var r;"iframe"==ev(o)&&(r=eh(o,"id"))&&n&&n instanceof eP&&r==n.id&&(eC?(eE[r]=n,n._xmsgcb=i,eO||(ei[V](e,q,ta),eO=!0)):tc(V,o,n,i))},detach:function t(n){var i=eh(n,"id"),r=i&&eE[i],s=o,c=!0;if(!r){tc(A,n);return}for(i in r&&(r._xmsgcb=eE[i]=o,r=o,delete eE[i]),i="",eE)if((r=eE[i])&&r[J]){c=!1;break}c&&eC&&eO&&(eO=!1,ei[A](e,q,ta)),n=s=r=o},usingHTML5:tl,send:tf},ei,!0),t="xdm-html5-init-"+e$(),eF=0==eF.indexOf("file")?eF="file":eF,function t(o){var n,i="on"+q;if(i in e){eC=!0;return}if(n=function(){},ei[V](e,q,n),"function"==typeof e[i]){eC=!0,ei[A](e,q,n);return}eC=!1}({foo:"bar",data:t})),en.def("$sf.host",{Config:e7,PosConfig:eU,PosMeta:eY,Position:function e(t,o,i,r){var s,c=this;return c instanceof e?null==e1?e4("Publisher Config not initialized - abort",!0):void((t&&typeof t)==p?ed(c,t):s=c.id=ea(t)||e$(n),o?(c.html=o,c.src=""):c.src?c.html=function e(t){if(t){if(t.indexOf("${sf_ver}")>-1&&(t=t.replace(/\${sf_ver}/gi,$sf.ver)),t.indexOf("${ck_on}")>-1){var o=eV()?"1":"0";t=t.replace(/\${ck_on}/gi,o)}if(t.indexOf("${flash_ver}")>-1){var n=eG();t=t.replace(/\${flash_ver}/gi,n)}}return ea(["<scr","ipt type='text/javascript', src='",t,"'></scr","ipt>"])}(c.src):(c.html=c.html||"",c.src=""),c.html||(c.html=""),null==i||i instanceof eY||(i=new eY(i)),c.meta=i||c.meta||new eY,c.conf=r||c.conf||{},s&&(e1&&e1.positions[s]?c.conf=e1.positions[s]:r&&(r.id=s,c.conf=new eU(r)))):new e(t,o,i,r)},nuke:tI,get:function e(t){var o=eT[t];return o?ed({},o):null},render:tF,status:tT},o,!0))}(window);

